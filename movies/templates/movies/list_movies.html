{% extends 'base.html' %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}

{% block title %} movies {% endblock %}

{% block body_content %}

    <div class="container">
        <div class="mt-5 mb-3 d-flex">
            <p class="h2 mx-4">Movies</p>
            <a href='{% url "movies:add" %}'>
                <button type="button" class="btn btn-sm btn-success">add</button>
            </a>
        </div>
        <div class="d-flex flex-wrap">
            {% for movie in movies %}
                <div class="card bg-dark m-3" style="width: 18rem;">
                    <div class="card-body">
                        <p class="h5 card-title">{{ movie.id }}: {{ movie.movie_name }}</p>
                        <p class="h6 card-title">year: {{ movie.production_year }}</p>
                        <p class="h6 card-title">director: {{ movie.director }}</p>
                        <p class="card-text">Actors:</p>
                        <ul>
                            {% for actor in movie.actors.all %}
                                <li> - {{ actor.actor_name }} </li>
                            {% endfor %}
                        </ul>
                        <a href='{% url "movies:details" movie.id %}'>
                            <button class="btn btn-info mx-2"> details</button>
                        </a>
                        <a href='{% url "movies:edit" movie.id %}'>
                            <button class="btn btn-success mx-2"> edit</button>
                        </a>
                        <a href='{% url "movies:delete" movie.id %}'>
                            <button class="btn btn-danger mx-2"> delete</button>
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>


{% endblock %}